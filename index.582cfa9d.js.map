{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/modules/Game.class.js"],"sourcesContent":["\"use strict\";\nvar $a5fd07fa01589658$exports = {};\n\n\"use strict\";\nconst $a5fd07fa01589658$var$field = [\n    [\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0\n    ],\n    [\n        0,\n        0,\n        0,\n        0\n    ]\n];\nclass $a5fd07fa01589658$var$Game {\n    constructor(initialField = $a5fd07fa01589658$var$field){\n        // eslint-disable-next-line no-console\n        console.log(initialField);\n        this.gameStatus = \"idle\";\n        this.score = 0;\n        this.field = initialField;\n    }\n    moveLeft() {\n        for(let j = 0; j < this.field.length; j++)for(let i = 1; i < this.field[j].length; i++){\n            let k = i;\n            while(k > 0 && this.field[j][k - 1] === 0){\n                this.field[j][k - 1] = this.field[j][k];\n                this.field[j][k] = 0;\n                k--;\n            }\n            if (k > 0 && this.field[j][k - 1] === this.field[j][k]) {\n                this.score += this.field[j][k - 1] * 2;\n                this.field[j][k - 1] *= 2;\n                this.field[j][k] = 0;\n            }\n        }\n    }\n    moveRight() {\n        for(let j = 0; j < this.field.length; j++)for(let i = this.field[j].length - 1; i >= 0; i--){\n            let k = i;\n            while(k < this.field[j].length - 1 && this.field[j][k + 1] === 0){\n                this.field[j][k + 1] = this.field[j][k];\n                this.field[j][k] = 0;\n                k++;\n            }\n            if (k < this.field[j].length - 1 && this.field[j][k + 1] === this.field[j][k]) {\n                this.score += this.field[j][k + 1] * 2;\n                this.field[j][k + 1] *= 2;\n                this.field[j][k] = 0;\n            }\n        }\n    }\n    moveUp() {\n        const size = $a5fd07fa01589658$var$field.length;\n        for(let j = 0; j < size; j++){\n            let mergeOccurred = false;\n            for(let i = 1; i < size; i++)if ($a5fd07fa01589658$var$field[i][j] !== 0) {\n                let k = i;\n                while(k > 0 && $a5fd07fa01589658$var$field[k - 1][j] === 0){\n                    $a5fd07fa01589658$var$field[k - 1][j] = $a5fd07fa01589658$var$field[k][j];\n                    $a5fd07fa01589658$var$field[k][j] = 0;\n                    k--;\n                }\n                if (!mergeOccurred && k > 0 && $a5fd07fa01589658$var$field[k - 1][j] === $a5fd07fa01589658$var$field[k][j]) {\n                    $a5fd07fa01589658$var$field[k - 1][j] *= 2;\n                    $a5fd07fa01589658$var$field[k][j] = 0;\n                    mergeOccurred = true;\n                }\n            }\n        }\n    }\n    moveDown() {\n        for(let i = this.field.length - 2; i >= 0; i--)for(let j = 0; j < this.field[i].length; j++){\n            let k = i;\n            while(k < this.field.length - 1 && this.field[k + 1][j] === 0){\n                this.field[k + 1][j] = this.field[k][j];\n                this.field[k][j] = 0;\n                k++;\n            }\n            if (k < this.field.length - 1 && this.field[k + 1][j] === this.field[k][j]) {\n                this.score += this.field[k + 1][j] * 2;\n                this.field[k + 1][j] *= 2;\n                this.field[k][j] = 0;\n            }\n        }\n    }\n    getScore() {\n        return this.score;\n    }\n    getState() {\n        return this.field;\n    }\n    getStatus() {\n        return this.gameStatus;\n    }\n    start() {\n        this.addingNumberToField();\n        this.addingNumberToField();\n        this.gameStatus = \"playing\";\n    }\n    restart() {\n        this.field = [\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ],\n            [\n                0,\n                0,\n                0,\n                0\n            ]\n        ];\n        this.addingNumberToField();\n        this.addingNumberToField();\n        (0, $09e991522ca7e64e$export$65972ef3a64ea716)();\n        this.gameStatus = \"playing\";\n        this.score = 0;\n        (0, $09e991522ca7e64e$export$c446bd3f79853be8)();\n    }\n    addingNumberToField() {\n        const randomRow = +Math.floor(Math.random() * 4);\n        const randomCeil = +Math.floor(Math.random() * 4);\n        const firstNum = Math.random() >= 0.9 ? 4 : 2;\n        if (!this.field[randomRow][randomCeil]) {\n            this.field[randomRow][randomCeil] = firstNum;\n            (0, $09e991522ca7e64e$export$65972ef3a64ea716)();\n        } else this.addingNumberToField();\n    }\n    checkVictory() {\n        for(let i = 0; i < this.field.length; i++){\n            for(let j = 0; j < this.field[i].length; j++)if (this.field[i][j] === 2048) {\n                this.gameStatus = \"win\";\n                return true;\n            }\n        }\n        return false;\n    }\n    canMoveCellsRight() {\n        for(let j = 0; j < this.field.length; j++)for(let i = this.field[j].length - 1; i >= 0; i--){\n            if (this.field[j][i + 1] === 0 && this.field[j][i] !== this.field[j][i + 1] || this.field[j][i + 1] === this.field[j][i] && this.field[j][i] !== 0) return true;\n        }\n        return false;\n    }\n    canMoveCellsLeft() {\n        for(let j = 0; j < this.field.length; j++)for(let i = this.field[j].length - 1; i >= 1; i--){\n            if (this.field[j][i - 1] === 0 && this.field[j][i] !== this.field[j][i - 1] || this.field[j][i - 1] === this.field[j][i] && this.field[j][i] !== 0) return true;\n        }\n        return false;\n    }\n    canMoveCellsUp() {\n        for(let i = 1; i < this.field.length; i++)for(let j = 0; j < this.field[i].length; j++){\n            if (this.field[i - 1][j] === 0 && this.field[i][j] !== this.field[i - 1][j] || this.field[i - 1][j] === this.field[i][j] && this.field[i][j] !== 0) return true;\n        }\n        return false;\n    }\n    canMoveCellsDown() {\n        for(let i = 0; i < this.field.length - 1; i++)for(let j = 0; j < this.field[i].length; j++){\n            if (this.field[i + 1][j] === 0 && this.field[i][j] !== this.field[i + 1][j] || this.field[i + 1][j] === this.field[i][j] && this.field[i][j] !== 0) return true;\n        }\n        return false;\n    }\n}\n$a5fd07fa01589658$exports = $a5fd07fa01589658$var$Game;\n\n\nconst $09e991522ca7e64e$var$game = new $a5fd07fa01589658$exports();\nconst $09e991522ca7e64e$var$startButton = document.querySelector(\".start\");\nconst $09e991522ca7e64e$var$messageStartGame = document.querySelector(\".message-start\");\nconst $09e991522ca7e64e$var$messageWinGame = document.querySelector(\".message-win\");\nconst $09e991522ca7e64e$var$messageLoseGame = document.querySelector(\".message-lose\");\nconst $09e991522ca7e64e$var$gameScore = document.querySelector(\".game-score\");\nconst [...$09e991522ca7e64e$var$cells] = document.getElementsByClassName(\"field-cell\");\nfunction $09e991522ca7e64e$export$c446bd3f79853be8() {\n    for(let i = 0; i < $09e991522ca7e64e$var$cells.length; i++){\n        $09e991522ca7e64e$var$cells[i].className = \"field-cell\";\n        if ($09e991522ca7e64e$var$game.field.flat()[i]) $09e991522ca7e64e$var$cells[i].classList.add(`field-cell--${$09e991522ca7e64e$var$game.field.flat()[i]}`);\n    }\n}\nfunction $09e991522ca7e64e$export$65972ef3a64ea716() {\n    for(let i = 0; i < $09e991522ca7e64e$var$cells.length; i++)[\n        ...$09e991522ca7e64e$var$cells\n    ][i].innerText = $09e991522ca7e64e$var$game.field.flat()[i] || \"\";\n    $09e991522ca7e64e$var$gameScore.innerText = $09e991522ca7e64e$var$game.score;\n}\nfunction $09e991522ca7e64e$var$handleUpButtonClickAndUpdateField() {\n    if (!$09e991522ca7e64e$var$game.checkVictory() && $09e991522ca7e64e$var$game.gameStatus === \"playing\") {\n        $09e991522ca7e64e$var$game.moveUp();\n        $09e991522ca7e64e$var$game.addingNumberToField();\n        $09e991522ca7e64e$export$65972ef3a64ea716();\n        $09e991522ca7e64e$export$c446bd3f79853be8();\n    }\n    if ($09e991522ca7e64e$var$game.checkVictory()) $09e991522ca7e64e$var$messageWinGame.classList.remove(\"hidden\");\n}\nfunction $09e991522ca7e64e$var$handleDownButtonClickAndUpdateField() {\n    if (!$09e991522ca7e64e$var$game.checkVictory() && $09e991522ca7e64e$var$game.gameStatus === \"playing\") {\n        $09e991522ca7e64e$var$game.moveDown();\n        $09e991522ca7e64e$var$game.addingNumberToField();\n        $09e991522ca7e64e$export$65972ef3a64ea716();\n        $09e991522ca7e64e$export$c446bd3f79853be8();\n    }\n    if ($09e991522ca7e64e$var$game.checkVictory()) $09e991522ca7e64e$var$messageWinGame.classList.remove(\"hidden\");\n}\nfunction $09e991522ca7e64e$var$handleRightButtonClickAndUpdateField() {\n    if (!$09e991522ca7e64e$var$game.checkVictory() && $09e991522ca7e64e$var$game.gameStatus === \"playing\") {\n        $09e991522ca7e64e$var$game.moveRight();\n        $09e991522ca7e64e$var$game.addingNumberToField();\n        $09e991522ca7e64e$export$65972ef3a64ea716();\n        $09e991522ca7e64e$export$c446bd3f79853be8();\n    }\n    if ($09e991522ca7e64e$var$game.checkVictory()) $09e991522ca7e64e$var$messageWinGame.classList.remove(\"hidden\");\n}\nfunction $09e991522ca7e64e$var$handleLeftButtonClickAndUpdateField() {\n    if (!$09e991522ca7e64e$var$game.checkVictory() && $09e991522ca7e64e$var$game.gameStatus === \"playing\") {\n        $09e991522ca7e64e$var$game.moveLeft();\n        $09e991522ca7e64e$var$game.addingNumberToField();\n        $09e991522ca7e64e$export$65972ef3a64ea716();\n        $09e991522ca7e64e$export$c446bd3f79853be8();\n    }\n    if ($09e991522ca7e64e$var$game.checkVictory()) $09e991522ca7e64e$var$messageWinGame.classList.remove(\"hidden\");\n}\n$09e991522ca7e64e$var$startButton.addEventListener(\"click\", ()=>{\n    if (!$09e991522ca7e64e$var$startButton.classList.contains(\"start\")) {\n        $09e991522ca7e64e$var$game.restart();\n        $09e991522ca7e64e$var$messageLoseGame.classList.add(\"hidden\");\n        $09e991522ca7e64e$var$messageWinGame.classList.add(\"hidden\");\n        $09e991522ca7e64e$var$gameScore.innerText = $09e991522ca7e64e$var$game.score;\n    }\n    if ($09e991522ca7e64e$var$startButton.classList.contains(\"start\")) {\n        $09e991522ca7e64e$var$game.start();\n        $09e991522ca7e64e$var$startButton.classList.add(\"restart\");\n        $09e991522ca7e64e$var$startButton.classList.remove(\"start\");\n        $09e991522ca7e64e$var$startButton.innerText = \"Restart\";\n        $09e991522ca7e64e$var$messageStartGame.classList.add(\"hidden\");\n    }\n    $09e991522ca7e64e$export$65972ef3a64ea716();\n    $09e991522ca7e64e$export$c446bd3f79853be8();\n});\ndocument.addEventListener(\"keyup\", (action)=>{\n    switch(action.key){\n        case \"ArrowUp\":\n            if ($09e991522ca7e64e$var$game.canMoveCellsUp()) $09e991522ca7e64e$var$handleUpButtonClickAndUpdateField();\n            if (!$09e991522ca7e64e$var$game.canMoveCellsDown() && !$09e991522ca7e64e$var$game.canMoveCellsUp() && !$09e991522ca7e64e$var$game.canMoveCellsRight() && !$09e991522ca7e64e$var$game.canMoveCellsLeft()) {\n                $09e991522ca7e64e$var$game.gameStatus = \"lose\";\n                $09e991522ca7e64e$var$messageLoseGame.classList.remove(\"hidden\");\n            }\n            break;\n        case \"ArrowLeft\":\n            if ($09e991522ca7e64e$var$game.canMoveCellsLeft()) $09e991522ca7e64e$var$handleLeftButtonClickAndUpdateField();\n            if (!$09e991522ca7e64e$var$game.canMoveCellsDown() && !$09e991522ca7e64e$var$game.canMoveCellsUp() && !$09e991522ca7e64e$var$game.canMoveCellsRight() && !$09e991522ca7e64e$var$game.canMoveCellsLeft()) {\n                $09e991522ca7e64e$var$game.gameStatus = \"lose\";\n                $09e991522ca7e64e$var$messageLoseGame.classList.remove(\"hidden\");\n            }\n            break;\n        case \"ArrowDown\":\n            if ($09e991522ca7e64e$var$game.canMoveCellsDown()) $09e991522ca7e64e$var$handleDownButtonClickAndUpdateField();\n            if (!$09e991522ca7e64e$var$game.canMoveCellsDown() && !$09e991522ca7e64e$var$game.canMoveCellsUp() && !$09e991522ca7e64e$var$game.canMoveCellsRight() && !$09e991522ca7e64e$var$game.canMoveCellsLeft()) {\n                $09e991522ca7e64e$var$game.gameStatus = \"lose\";\n                $09e991522ca7e64e$var$messageLoseGame.classList.remove(\"hidden\");\n            }\n            break;\n        case \"ArrowRight\":\n            if ($09e991522ca7e64e$var$game.canMoveCellsRight()) $09e991522ca7e64e$var$handleRightButtonClickAndUpdateField();\n            if (!$09e991522ca7e64e$var$game.canMoveCellsDown() && !$09e991522ca7e64e$var$game.canMoveCellsUp() && !$09e991522ca7e64e$var$game.canMoveCellsRight() && !$09e991522ca7e64e$var$game.canMoveCellsLeft()) {\n                $09e991522ca7e64e$var$game.gameStatus = \"lose\";\n                $09e991522ca7e64e$var$messageLoseGame.classList.remove(\"hidden\");\n            }\n            break;\n        default:\n            break;\n    }\n});\n\n\n//# sourceMappingURL=index.582cfa9d.js.map\n","'use strict';\n\nconst Game = require('../modules/Game.class');\nconst game = new Game();\n\nconst startButton = document.querySelector('.start');\nconst messageStartGame = document.querySelector('.message-start');\nconst messageWinGame = document.querySelector('.message-win');\nconst messageLoseGame = document.querySelector('.message-lose');\nconst gameScore = document.querySelector('.game-score');\nconst [...cells] = document.getElementsByClassName('field-cell');\n\nfunction stylingCells() {\n  for (let i = 0; i < cells.length; i++) {\n    cells[i].className = 'field-cell';\n\n    if (game.field.flat()[i]) {\n      cells[i].classList.add(`field-cell--${game.field.flat()[i]}`);\n    }\n  }\n}\n\nfunction renderField() {\n  for (let i = 0; i < cells.length; i++) {\n    [...cells][i].innerText = game.field.flat()[i] || '';\n  }\n  gameScore.innerText = game.score;\n}\n\nfunction handleUpButtonClickAndUpdateField() {\n  if (!game.checkVictory() && game.gameStatus === 'playing') {\n    game.moveUp();\n    game.addingNumberToField();\n    renderField();\n    stylingCells();\n  }\n\n  if (game.checkVictory()) {\n    messageWinGame.classList.remove('hidden');\n  }\n}\n\nfunction handleDownButtonClickAndUpdateField() {\n  if (!game.checkVictory() && game.gameStatus === 'playing') {\n    game.moveDown();\n    game.addingNumberToField();\n    renderField();\n    stylingCells();\n  }\n\n  if (game.checkVictory()) {\n    messageWinGame.classList.remove('hidden');\n  }\n}\n\nfunction handleRightButtonClickAndUpdateField() {\n  if (!game.checkVictory() && game.gameStatus === 'playing') {\n    game.moveRight();\n    game.addingNumberToField();\n    renderField();\n    stylingCells();\n  }\n\n  if (game.checkVictory()) {\n    messageWinGame.classList.remove('hidden');\n  }\n}\n\nfunction handleLeftButtonClickAndUpdateField() {\n  if (!game.checkVictory() && game.gameStatus === 'playing') {\n    game.moveLeft();\n    game.addingNumberToField();\n    renderField();\n    stylingCells();\n  }\n\n  if (game.checkVictory()) {\n    messageWinGame.classList.remove('hidden');\n  }\n}\n\nstartButton.addEventListener('click', () => {\n  if (!startButton.classList.contains('start')) {\n    game.restart();\n    messageLoseGame.classList.add('hidden');\n    messageWinGame.classList.add('hidden');\n    gameScore.innerText = game.score;\n  }\n\n  if (startButton.classList.contains('start')) {\n    game.start();\n    startButton.classList.add('restart');\n    startButton.classList.remove('start');\n    startButton.innerText = 'Restart';\n    messageStartGame.classList.add('hidden');\n  }\n\n  renderField();\n  stylingCells();\n});\n\ndocument.addEventListener('keyup', (action) => {\n  switch (action.key) {\n    case 'ArrowUp':\n      if (game.canMoveCellsUp()) {\n        handleUpButtonClickAndUpdateField();\n      }\n\n      if (\n        !game.canMoveCellsDown() &&\n        !game.canMoveCellsUp() &&\n        !game.canMoveCellsRight() &&\n        !game.canMoveCellsLeft()\n      ) {\n        game.gameStatus = 'lose';\n        messageLoseGame.classList.remove('hidden');\n      }\n      break;\n    case 'ArrowLeft':\n      if (game.canMoveCellsLeft()) {\n        handleLeftButtonClickAndUpdateField();\n      }\n\n      if (\n        !game.canMoveCellsDown() &&\n        !game.canMoveCellsUp() &&\n        !game.canMoveCellsRight() &&\n        !game.canMoveCellsLeft()\n      ) {\n        game.gameStatus = 'lose';\n        messageLoseGame.classList.remove('hidden');\n      }\n      break;\n    case 'ArrowDown':\n      if (game.canMoveCellsDown()) {\n        handleDownButtonClickAndUpdateField();\n      }\n\n      if (\n        !game.canMoveCellsDown() &&\n        !game.canMoveCellsUp() &&\n        !game.canMoveCellsRight() &&\n        !game.canMoveCellsLeft()\n      ) {\n        game.gameStatus = 'lose';\n        messageLoseGame.classList.remove('hidden');\n      }\n      break;\n    case 'ArrowRight':\n      if (game.canMoveCellsRight()) {\n        handleRightButtonClickAndUpdateField();\n      }\n\n      if (\n        !game.canMoveCellsDown() &&\n        !game.canMoveCellsUp() &&\n        !game.canMoveCellsRight() &&\n        !game.canMoveCellsLeft()\n      ) {\n        game.gameStatus = 'lose';\n        messageLoseGame.classList.remove('hidden');\n      }\n      break;\n    default:\n      break;\n  }\n});\n\nexport { renderField, stylingCells };\n","'use strict';\n\nimport { renderField, stylingCells } from '../scripts/main';\n\nconst field = [\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n];\n\nclass Game {\n  constructor(initialField = field) {\n    // eslint-disable-next-line no-console\n    console.log(initialField);\n    this.gameStatus = 'idle';\n    this.score = 0;\n    this.field = initialField;\n  }\n\n  moveLeft() {\n    for (let j = 0; j < this.field.length; j++) {\n      for (let i = 1; i < this.field[j].length; i++) {\n        let k = i;\n\n        while (k > 0 && this.field[j][k - 1] === 0) {\n          this.field[j][k - 1] = this.field[j][k];\n          this.field[j][k] = 0;\n          k--;\n        }\n\n        if (k > 0 && this.field[j][k - 1] === this.field[j][k]) {\n          this.score += this.field[j][k - 1] * 2;\n          this.field[j][k - 1] *= 2;\n          this.field[j][k] = 0;\n        }\n      }\n    }\n  }\n\n  moveRight() {\n    for (let j = 0; j < this.field.length; j++) {\n      for (let i = this.field[j].length - 1; i >= 0; i--) {\n        let k = i;\n\n        while (k < this.field[j].length - 1 && this.field[j][k + 1] === 0) {\n          this.field[j][k + 1] = this.field[j][k];\n          this.field[j][k] = 0;\n          k++;\n        }\n\n        if (\n          k < this.field[j].length - 1 &&\n          this.field[j][k + 1] === this.field[j][k]\n        ) {\n          this.score += this.field[j][k + 1] * 2;\n          this.field[j][k + 1] *= 2;\n          this.field[j][k] = 0;\n        }\n      }\n    }\n  }\n\n  moveUp() {\n    const size = field.length;\n\n    for (let j = 0; j < size; j++) {\n      let mergeOccurred = false;\n\n      for (let i = 1; i < size; i++) {\n        if (field[i][j] !== 0) {\n          let k = i;\n\n          while (k > 0 && field[k - 1][j] === 0) {\n            field[k - 1][j] = field[k][j];\n            field[k][j] = 0;\n            k--;\n          }\n\n          if (!mergeOccurred && k > 0 && field[k - 1][j] === field[k][j]) {\n            field[k - 1][j] *= 2;\n            field[k][j] = 0;\n            mergeOccurred = true;\n          }\n        }\n      }\n    }\n  }\n\n  moveDown() {\n    for (let i = this.field.length - 2; i >= 0; i--) {\n      for (let j = 0; j < this.field[i].length; j++) {\n        let k = i;\n\n        while (k < this.field.length - 1 && this.field[k + 1][j] === 0) {\n          this.field[k + 1][j] = this.field[k][j];\n          this.field[k][j] = 0;\n          k++;\n        }\n\n        if (\n          k < this.field.length - 1 &&\n          this.field[k + 1][j] === this.field[k][j]\n        ) {\n          this.score += this.field[k + 1][j] * 2;\n          this.field[k + 1][j] *= 2;\n          this.field[k][j] = 0;\n        }\n      }\n    }\n  }\n\n  getScore() {\n    return this.score;\n  }\n\n  getState() {\n    return this.field;\n  }\n\n  getStatus() {\n    return this.gameStatus;\n  }\n\n  start() {\n    this.addingNumberToField();\n    this.addingNumberToField();\n    this.gameStatus = 'playing';\n  }\n\n  restart() {\n    this.field = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ];\n\n    this.addingNumberToField();\n    this.addingNumberToField();\n    renderField();\n    this.gameStatus = 'playing';\n    this.score = 0;\n    stylingCells();\n  }\n\n  addingNumberToField() {\n    const randomRow = +Math.floor(Math.random() * 4);\n    const randomCeil = +Math.floor(Math.random() * 4);\n    const firstNum = Math.random() >= 0.9 ? 4 : 2;\n\n    if (!this.field[randomRow][randomCeil]) {\n      this.field[randomRow][randomCeil] = firstNum;\n\n      renderField();\n    } else {\n      this.addingNumberToField();\n    }\n  }\n\n  checkVictory() {\n    for (let i = 0; i < this.field.length; i++) {\n      for (let j = 0; j < this.field[i].length; j++) {\n        if (this.field[i][j] === 2048) {\n          this.gameStatus = 'win';\n\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  canMoveCellsRight() {\n    for (let j = 0; j < this.field.length; j++) {\n      for (let i = this.field[j].length - 1; i >= 0; i--) {\n        if (\n          (this.field[j][i + 1] === 0 &&\n            this.field[j][i] !== this.field[j][i + 1]) ||\n          (this.field[j][i + 1] === this.field[j][i] && this.field[j][i] !== 0)\n        ) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  canMoveCellsLeft() {\n    for (let j = 0; j < this.field.length; j++) {\n      for (let i = this.field[j].length - 1; i >= 1; i--) {\n        if (\n          (this.field[j][i - 1] === 0 &&\n            this.field[j][i] !== this.field[j][i - 1]) ||\n          (this.field[j][i - 1] === this.field[j][i] && this.field[j][i] !== 0)\n        ) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  canMoveCellsUp() {\n    for (let i = 1; i < this.field.length; i++) {\n      for (let j = 0; j < this.field[i].length; j++) {\n        if (\n          (this.field[i - 1][j] === 0 &&\n            this.field[i][j] !== this.field[i - 1][j]) ||\n          (this.field[i - 1][j] === this.field[i][j] && this.field[i][j] !== 0)\n        ) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  canMoveCellsDown() {\n    for (let i = 0; i < this.field.length - 1; i++) {\n      for (let j = 0; j < this.field[i].length; j++) {\n        if (\n          (this.field[i + 1][j] === 0 &&\n            this.field[i][j] !== this.field[i + 1][j]) ||\n          (this.field[i + 1][j] === this.field[i][j] && this.field[i][j] !== 0)\n        ) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n}\n\nmodule.exports = Game;\n"],"names":["$a5fd07fa01589658$var$field","$09e991522ca7e64e$var$game","constructor","initialField","console","log","gameStatus","score","field","moveLeft","j","length","i","k","moveRight","moveUp","size","mergeOccurred","moveDown","getScore","getState","getStatus","start","addingNumberToField","restart","$09e991522ca7e64e$export$65972ef3a64ea716","$09e991522ca7e64e$export$c446bd3f79853be8","randomRow","Math","floor","random","randomCeil","checkVictory","canMoveCellsRight","canMoveCellsLeft","canMoveCellsUp","canMoveCellsDown","$09e991522ca7e64e$var$startButton","document","querySelector","$09e991522ca7e64e$var$messageStartGame","$09e991522ca7e64e$var$messageWinGame","$09e991522ca7e64e$var$messageLoseGame","$09e991522ca7e64e$var$gameScore","$09e991522ca7e64e$var$cells","getElementsByClassName","className","flat","classList","add","innerText","addEventListener","contains","remove","action","key"],"version":3,"file":"index.582cfa9d.js.map"}